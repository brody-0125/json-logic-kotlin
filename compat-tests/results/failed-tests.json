[
    {
        "suite": "comparison/greaterThan",
        "description": "> is lazily evaluated",
        "rule": "{\">\":[2,3,{\"throw\":\"Not Lazy\"}]}",
        "data": "{}",
        "expected": "false",
        "error": "Not Lazy"
    },
    {
        "suite": "comparison/greaterThanEquals",
        "description": ">= is lazily evaluated",
        "rule": "{\">=\":[2,3,{\"throw\":\"Not Lazy\"}]}",
        "data": "{}",
        "expected": "false",
        "error": "Not Lazy"
    },
    {
        "suite": "comparison/lessThan",
        "description": "< is lazily evaluated",
        "rule": "{\"<\":[3,2,{\"throw\":\"Not Lazy\"}]}",
        "data": "{}",
        "expected": "false",
        "error": "Not Lazy"
    },
    {
        "suite": "comparison/lessThanEquals",
        "description": "<= is lazily evaluated",
        "rule": "{\"<=\":[3,2,{\"throw\":\"Not Lazy\"}]}",
        "data": "{}",
        "expected": "false",
        "error": "Not Lazy"
    },
    {
        "suite": "comparison/softEquals",
        "description": "== is lazily evaluated",
        "rule": "{\"==\":[3,2,{\"throw\":\"Not Lazy\"}]}",
        "data": "{}",
        "expected": "false",
        "error": "Not Lazy"
    },
    {
        "suite": "comparison/softNotEquals",
        "description": "!= is lazily evaluated",
        "rule": "{\"!=\":[3,3,{\"throw\":\"Not Lazy\"}]}",
        "data": "{}",
        "expected": "false",
        "error": "Not Lazy"
    },
    {
        "suite": "comparison/strictEquals",
        "description": "=== is lazily evaluated",
        "rule": "{\"===\":[3,2,{\"throw\":\"Not Lazy\"}]}",
        "data": "{}",
        "expected": "false",
        "error": "Not Lazy"
    },
    {
        "suite": "comparison/strictNotEquals",
        "description": "!== is lazily evaluated",
        "rule": "{\"!==\":[3,3,{\"throw\":\"Not Lazy\"}]}",
        "data": "{}",
        "expected": "false",
        "error": "Not Lazy"
    },
    {
        "suite": "exists",
        "description": "Checks if a nested key exists (false)",
        "rule": "{\"exists\":[\"hello\",\"world\"]}",
        "data": "{\"hello\":{\"x\":false}}",
        "expected": "false",
        "actual": "true"
    },
    {
        "suite": "scopes",
        "description": "Map can add each number to index",
        "rule": "{\"map\":[{\"val\":\"numbers\"},{\"+\":[{\"val\":[[1],\"index\"]},{\"val\":[]}]}]}",
        "data": "{\"numbers\":[1,2,3]}",
        "expected": "[1,3,5]",
        "actual": "[1, 2, 3]"
    },
    {
        "suite": "scopes",
        "description": "Map can add each number to value from context",
        "rule": "{\"map\":[{\"val\":\"numbers\"},{\"+\":[{\"val\":[[2],\"value\"]},{\"val\":[]}]}]}",
        "data": "{\"numbers\":[1,2,3],\"value\":10}",
        "expected": "[11,12,13]",
        "actual": "[1, 2, 3]"
    },
    {
        "suite": "scopes",
        "description": "Filter can use parent context to filter",
        "rule": "{\"filter\":[{\"val\":\"people\"},{\"===\":[{\"val\":\"department\"},{\"val\":[[2],\"department\"]}]}]}",
        "data": "{\"department\":\"Engineering\",\"people\":[{\"name\":\"Jay Ortiz\",\"department\":\"Engineering\"},{\"name\":\"Louisa Hall\",\"department\":\"Sales\"},{\"name\":\"Kyle Carlson\",\"department\":\"Sales\"},{\"name\":\"Grace Ortiz\",\"department\":\"Engineering\"},{\"name\":\"Isabelle Harrington\",\"department\":\"Marketing\"},{\"name\":\"Harold Moore\",\"department\":\"Sales\"},{\"name\":\"Clarence Schultz\",\"department\":\"Sales\"},{\"name\":\"Jesse Keller\",\"department\":\"Engineering\"},{\"name\":\"Phillip Holland\",\"department\":\"Marketing\"},{\"name\":\"Mason Sullivan\",\"department\":\"Engineering\"}]}",
        "expected": "[{\"name\":\"Jay Ortiz\",\"department\":\"Engineering\"},{\"name\":\"Grace Ortiz\",\"department\":\"Engineering\"},{\"name\":\"Jesse Keller\",\"department\":\"Engineering\"},{\"name\":\"Mason Sullivan\",\"department\":\"Engineering\"}]",
        "actual": "[]"
    },
    {
        "suite": "scopes",
        "description": "Access an escaped key from above",
        "rule": "{\"map\":[{\"val\":\"arr\"},{\"+\":[{\"val\":[[2],\"\",\"\",\"/\"]},{\"val\":[[2],\"../\"]}]}]}",
        "data": "{\"arr\":[1,2,3],\"../\":10,\"\":{\"\":{\"/\":7}}}",
        "expected": "[17,17,17]",
        "actual": "[0, 0, 0]"
    },
    {
        "suite": "try",
        "description": "Try can work further up the AST with Exceptions",
        "rule": "{\"try\":[{\"if\":[true,{\"map\":[[1,2,3],{\"/\":[0,0]}]},null]},10]}",
        "data": "null",
        "expected": "10",
        "actual": "[NaN, NaN, NaN]"
    },
    {
        "suite": "try",
        "description": "Try can work further up the AST with Exceptions, and return the error",
        "rule": "{\"try\":[{\"if\":[true,{\"map\":[[1,2,3],{\"/\":[0,0]}]},null]},{\"val\":\"type\"}]}",
        "data": "null",
        "expected": "\"NaN\"",
        "actual": "[NaN, NaN, NaN]"
    },
    {
        "suite": "try",
        "description": "Handles NaN Explicitly",
        "rule": "{\"try\":[{\"if\":[{\"/\":[1,{\"val\":\"x\"}]},{\"throw\":\"Some error\"},null]},{\"if\":[{\"===\":[{\"val\":\"type\"},\"NaN\"]},\"Handled\",{\"throw\":{\"val\":[]}}]}]}",
        "data": "{\"x\":0}",
        "expected": "\"Handled\"",
        "error": "Some error"
    },
    {
        "suite": "try.extra",
        "description": "Try can work further up the AST with Exceptions; Grabbing other Context value",
        "rule": "{\"try\":[{\"if\":[true,{\"map\":[[1,2,3],{\"/\":[0,0]}]},null]},{\"val\":[[2],\"fallback\"]}]}",
        "data": "{\"fallback\":\"Hello\"}",
        "expected": "\"Hello\"",
        "actual": "[NaN, NaN, NaN]"
    },
    {
        "suite": "val.extra",
        "description": "Climb up to get adder",
        "rule": "{\"map\":[[1,2,3],{\"+\":[{\"val\":[]},{\"val\":[[-2],\"adder\"]}]}]}",
        "data": "{\"adder\":10}",
        "expected": "[11,12,13]",
        "actual": "[1, 2, 3]"
    },
    {
        "suite": "val.extra",
        "description": "Climb up to get index",
        "rule": "{\"map\":[[1,2,3],{\"+\":[{\"val\":[]},{\"val\":[[-1],\"index\"]}]}]}",
        "data": "{\"adder\":10}",
        "expected": "[1,3,5]",
        "actual": "[1, 2, 3]"
    },
    {
        "suite": "val.extra",
        "description": "Nested get adder",
        "rule": "{\"map\":[[\"Test\"],{\"map\":[[1,2,3],{\"+\":[{\"val\":[]},{\"val\":[[-4],\"adder\"]}]}]}]}",
        "data": "{\"adder\":10}",
        "expected": "[[11,12,13]]",
        "actual": "[[1, 2, 3]]"
    }
]